<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WSSI 3D Living Orb</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #0a0a0f; 
            overflow: hidden; 
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        #canvas-container { width: 100vw; height: 100vh; }
        #overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        #overlay h1 { font-size: 24px; margin-bottom: 10px; }
        #overlay .score { 
            font-size: 48px; 
            font-weight: bold;
            color: #ff8800;
            text-shadow: 0 0 20px #ff8800;
        }
        #overlay .level { 
            font-size: 14px; 
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
        }
        #legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 8px;
        }
        .legend-item { 
            display: flex; 
            align-items: center; 
            margin: 5px 0;
            font-size: 12px;
        }
        .legend-color { 
            width: 12px; 
            height: 12px; 
            border-radius: 50%; 
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    <div id="overlay">
        <div class="level">Global Stress Level</div>
        <div class="score">-1.43</div>
        <h1>üåê WSSI Living Orb</h1>
        <p>Active Themes: 3</p>
    </div>
    <div id="legend">
        <h3>Crisis Categories</h3>
        <div class="legend-item"><div class="legend-color" style="background: #E74C3C"></div>Economic-Financial</div>
<div class="legend-item"><div class="legend-color" style="background: #2ECC71"></div>Climate-Environmental</div>
<div class="legend-item"><div class="legend-color" style="background: #F39C12"></div>Geopolitical-Conflict</div>
<div class="legend-item"><div class="legend-color" style="background: #3498DB"></div>Technological</div>
<div class="legend-item"><div class="legend-color" style="background: #9B59B6"></div>Biological-Health</div>
<div class="legend-item"><div class="legend-color" style="background: #95A5A6"></div>Cross-Cutting</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // WSSI Data
        const wssiData = {"wssi": {"wssi_value": -1.4313, "wssi_score": 14.2175, "stress_level": "approaching", "active_themes": 3, "above_warning": 1, "above_critical": 0, "date": "2026-02-12", "theme_contributions": []}, "nodes": [{"id": "cat_0", "name": "Economic-Financial", "type": "category", "x": 0.40062051461441067, "y": -1.0304006140779935, "z": 1.6666666666666667, "value": 0.0, "stress_level": "stable", "color": "#E74C3C"}, {"id": "1.1", "name": "Sovereign Debt Stress", "type": "theme", "category": "Economic-Financial", "x": 1.2006205146144107, "y": -1.0304006140779935, "z": 1.6666666666666667, "value": 0.0, "stress_level": "stable", "color": "#E74C3C"}, {"id": "1.2", "name": "Corporate Debt Distress", "type": "theme", "category": "Economic-Financial", "x": 0.4006205146144107, "y": -0.2304006140779935, "z": 1.6666666666666667, "value": 0.0, "stress_level": "stable", "color": "#E74C3C"}, {"id": "1.3", "name": "Banking System Stress", "type": "theme", "category": "Economic-Financial", "x": -0.3993794853855894, "y": -1.0304006140779935, "z": 1.6666666666666667, "value": 0.0, "stress_level": "stable", "color": "#E74C3C"}, {"id": "1.4", "name": "Real Asset Bubbles/Busts", "type": "theme", "category": "Economic-Financial", "x": 0.4006205146144105, "y": -1.8304006140779936, "z": 1.6666666666666667, "value": 0.0, "stress_level": "stable", "color": "#E74C3C"}, {"id": "cat_1", "name": "Climate-Environmental", "type": "category", "x": -1.553273411691674, "y": 0.766382220913108, "z": 0.9999999999999998, "value": 0.0, "stress_level": "stable", "color": "#2ECC71"}, {"id": "2.1", "name": "Tipping Point Proximity", "type": "theme", "category": "Climate-Environmental", "x": -0.7532734116916739, "y": 0.766382220913108, "z": 0.9999999999999998, "value": 0.0, "stress_level": "stable", "color": "#2ECC71"}, {"id": "2.2", "name": "Extreme Weather Events", "type": "theme", "category": "Climate-Environmental", "x": -1.553273411691674, "y": 1.5663822209131082, "z": 0.9999999999999998, "value": 0.0, "stress_level": "stable", "color": "#2ECC71"}, {"id": "2.3", "name": "Carbon Cycle Disruption", "type": "theme", "category": "Climate-Environmental", "x": -2.3532734116916743, "y": 0.7663822209131081, "z": 0.9999999999999998, "value": 0.0, "stress_level": "stable", "color": "#2ECC71"}, {"id": "2.4", "name": "Ecosystem Collapse", "type": "theme", "category": "Climate-Environmental", "x": -1.5532734116916742, "y": -0.03361777908689201, "z": 0.9999999999999998, "value": 0.0, "stress_level": "stable", "color": "#2ECC71"}, {"id": "cat_2", "name": "Geopolitical-Conflict", "type": "category", "x": 1.8934306799861993, "y": 0.5511888505547695, "z": 0.33333333333333337, "value": 0.0, "stress_level": "stable", "color": "#F39C12"}, {"id": "3.1", "name": "Interstate Conflict", "type": "theme", "category": "Geopolitical-Conflict", "x": 2.693430679986199, "y": 0.5511888505547695, "z": 0.33333333333333337, "value": 0.0, "stress_level": "stable", "color": "#F39C12"}, {"id": "3.4", "name": "Governance Decay", "type": "theme", "category": "Geopolitical-Conflict", "x": 1.8934306799861993, "y": 1.3511888505547696, "z": 0.33333333333333337, "value": 0.0, "stress_level": "stable", "color": "#F39C12"}, {"id": "3.2", "name": "Intrastate Violence", "type": "theme", "category": "Geopolitical-Conflict", "x": 1.0934306799861992, "y": 0.5511888505547696, "z": 0.33333333333333337, "value": 0.0, "stress_level": "stable", "color": "#F39C12"}, {"id": "3.3", "name": "Resource Competition", "type": "theme", "category": "Geopolitical-Conflict", "x": 1.893430679986199, "y": -0.24881114944523053, "z": 0.33333333333333337, "value": 0.0, "stress_level": "stable", "color": "#F39C12"}, {"id": "cat_3", "name": "Technological", "type": "category", "x": -1.0238341373655802, "y": -1.685423551530525, "z": -0.3333333333333336, "value": 0.0, "stress_level": "stable", "color": "#3498DB"}, {"id": "4.2", "name": "Cyber Systemic Risk", "type": "theme", "category": "Technological", "x": -0.2238341373655801, "y": -1.685423551530525, "z": -0.3333333333333336, "value": 0.0, "stress_level": "stable", "color": "#3498DB"}, {"id": "4.1", "name": "Critical Infra Failure", "type": "theme", "category": "Technological", "x": -1.42383413736558, "y": -0.9926032285029739, "z": -0.3333333333333336, "value": 0.0, "stress_level": "stable", "color": "#3498DB"}, {"id": "4.3", "name": "AI/Compute Concentration", "type": "theme", "category": "Technological", "x": -1.4238341373655805, "y": -2.3782438745580756, "z": -0.3333333333333336, "value": 0.0, "stress_level": "stable", "color": "#3498DB"}, {"id": "cat_4", "name": "Biological-Health", "type": "category", "x": -0.33687039910518446, "y": 1.6989756720467524, "z": -1.0000000000000004, "value": 0.0, "stress_level": "stable", "color": "#9B59B6"}, {"id": "5.1", "name": "Pandemic/Pathogen Risk", "type": "theme", "category": "Biological-Health", "x": 0.4631296008948156, "y": 1.6989756720467524, "z": -1.0000000000000004, "value": 0.0, "stress_level": "stable", "color": "#9B59B6"}, {"id": "5.2", "name": "Food System Fragility", "type": "theme", "category": "Biological-Health", "x": -1.1368703991051845, "y": 1.6989756720467524, "z": -1.0000000000000004, "value": 0.0, "stress_level": "stable", "color": "#9B59B6"}, {"id": "cat_5", "name": "Cross-Cutting", "type": "category", "x": 0.891070595435421, "y": -0.6543817052551112, "z": -1.6666666666666665, "value": 0.0, "stress_level": "stable", "color": "#95A5A6"}, {"id": "6.1", "name": "Cascade Interactions", "type": "theme", "category": "Cross-Cutting", "x": 1.691070595435421, "y": -0.6543817052551112, "z": -1.6666666666666665, "value": 0.0, "stress_level": "stable", "color": "#95A5A6"}, {"id": "6.2", "name": "Correlation Clusters", "type": "theme", "category": "Cross-Cutting", "x": 0.49107059543542114, "y": 0.03843861777243984, "z": -1.6666666666666665, "value": 0.0, "stress_level": "stable", "color": "#95A5A6"}, {"id": "6.3", "name": "Systemic Resilience", "type": "theme", "category": "Cross-Cutting", "x": 0.49107059543542064, "y": -1.3472020282826618, "z": -1.6666666666666665, "value": 0.0, "stress_level": "stable", "color": "#95A5A6"}], "categories": ["Economic-Financial", "Climate-Environmental", "Geopolitical-Conflict", "Technological", "Biological-Health", "Cross-Cutting"], "metadata": {"generated_at": "2026-02-12T19:33:26.768521"}};
        
        // Scene setup
        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0x0a0a0f, 0.02);
        
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 8;
        
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        document.getElementById('canvas-container').appendChild(renderer.domElement);
        
        // Lighting
        const ambientLight = new THREE.AmbientLight(0x404040, 2);
        scene.add(ambientLight);
        
        const pointLight = new THREE.PointLight(0xffffff, 1, 100);
        pointLight.position.set(10, 10, 10);
        scene.add(pointLight);
        
        const pointLight2 = new THREE.PointLight(#ff8800, 2, 50);
        pointLight2.position.set(-5, -5, 5);
        scene.add(pointLight2);
        
        // Core Orb (WSSI Center)
        const coreGeometry = new THREE.SphereGeometry(0.8, 64, 64);
        const coreMaterial = new THREE.MeshPhongMaterial({
            color: #ff8800,
            emissive: #ff8800,
            emissiveIntensity: 0.5,
            shininess: 100,
            transparent: true,
            opacity: 0.9
        });
        const coreOrb = new THREE.Mesh(coreGeometry, coreMaterial);
        scene.add(coreOrb);
        
        // Core glow
        const glowGeometry = new THREE.SphereGeometry(1.2, 32, 32);
        const glowMaterial = new THREE.MeshBasicMaterial({
            color: #ff8800,
            transparent: true,
            opacity: 0.1
        });
        const coreGlow = new THREE.Mesh(glowGeometry, glowMaterial);
        scene.add(coreGlow);
        
        // Outer energy field
        const fieldGeometry = new THREE.SphereGeometry(2, 32, 32);
        const fieldMaterial = new THREE.MeshBasicMaterial({
            color: #ff8800,
            wireframe: true,
            transparent: true,
            opacity: 0.15
        });
        const energyField = new THREE.Mesh(fieldGeometry, fieldMaterial);
        scene.add(energyField);
        
        // Theme nodes
        const nodes = [];
        const nodeConnections = [];
        
        wssiData.nodes.forEach(node => {
            if (node.type === 'theme') {
                const size = 0.1 + (node.value * 0.15);
                const geometry = new THREE.SphereGeometry(size, 16, 16);
                const material = new THREE.MeshPhongMaterial({
                    color: node.color,
                    emissive: node.color,
                    emissiveIntensity: 0.3,
                    shininess: 50
                });
                
                const mesh = new THREE.Mesh(geometry, material);
                mesh.position.set(node.x, node.y, node.z);
                mesh.userData = node;
                
                scene.add(mesh);
                nodes.push(mesh);
                
                // Connection line to core
                const lineGeometry = new THREE.BufferGeometry().setFromPoints([
                    new THREE.Vector3(0, 0, 0),
                    new THREE.Vector3(node.x, node.y, node.z)
                ]);
                const lineMaterial = new THREE.LineBasicMaterial({
                    color: node.color,
                    transparent: true,
                    opacity: 0.2
                });
                const line = new THREE.Line(lineGeometry, lineMaterial);
                scene.add(line);
                nodeConnections.push(line);
            }
        });
        
        // Particle system for ambient effect
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 500;
        const posArray = new Float32Array(particlesCount * 3);
        
        for (let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 15;
        }
        
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.02,
            color: 0xffffff,
            transparent: true,
            opacity: 0.4
        });
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);
        
        // Mouse interaction
        let mouseX = 0;
        let mouseY = 0;
        
        document.addEventListener('mousemove', (event) => {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        });
        
        // Raycaster for node interaction
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        
        document.addEventListener('click', (event) => {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(nodes);
            
            if (intersects.length > 0) {
                const node = intersects[0].object.userData;
                alert(`üö® ${node.name}\nStress Level: ${node.stress_level}\nSignal: ${node.value.toFixed(2)}`);
            }
        });
        
        // Animation
        let time = 0;
        const pulseSpeed = 2;
        const rotationSpeed = 0.001;
        
        function animate() {
            requestAnimationFrame(animate);
            time += 0.01;
            
            // Core pulsing
            const pulse = 1 + Math.sin(time * pulseSpeed) * 0.1;
            coreOrb.scale.set(pulse, pulse, pulse);
            coreGlow.scale.set(pulse * 1.2, pulse * 1.2, pulse * 1.2);
            
            // Energy field rotation
            energyField.rotation.y += rotationSpeed;
            energyField.rotation.x += rotationSpeed * 0.5;
            
            // Node gentle floating
            nodes.forEach((node, i) => {
                node.position.y += Math.sin(time + i) * 0.002;
            });
            
            // Particles rotation
            particlesMesh.rotation.y += 0.0005;
            
            // Camera subtle movement
            camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.05;
            camera.position.y += (mouseY * 0.5 - camera.position.y) * 0.05;
            camera.lookAt(scene.position);
            
            renderer.render(scene, camera);
        }
        
        // Handle resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        animate();
    </script>
</body>
</html>
